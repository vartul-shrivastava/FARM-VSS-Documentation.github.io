Ollama AI Models
================

FARM-VSS integrates with Ollama AI models to enhance the summarization of generated FARM rules. This section provides a comprehensive guide on installing Ollama, managing AI models, using them within FARM-VSS, and customizing AI prompts.

.. contents:: Table of Contents
   :depth: 2

Overview
--------

Ollama is a local AI model management tool designed to facilitate the efficient use of AI models for a variety of tasks. In FARM-VSS, Ollama enables the summarization of complex association rules, making them easier to interpret and apply. By integrating Ollama, users can leverage advanced AI capabilities locally, ensuring data privacy and customization.

Installation
------------

Installing Ollama
~~~~~~~~~~~~~~~~~

Follow these steps to install Ollama on your system.

1. **Download Ollama**

   Visit the [Ollama Official Website](https://ollama.com/) and download the appropriate installer for your operating system.

2. **Run the Installer**

   Execute the downloaded installer and follow the provided instructions to complete the installation.

3. **Verify Installation**

   Open a terminal or command prompt and run:

   .. code-block:: bash

      ollama --version

   If the installation is successful, the command will display the installed version of Ollama.

Installing AI Models
~~~~~~~~~~~~~~~~~~~~

Once Ollama is installed, follow these steps to install the required AI models:

1. **List Available Models**

   Check the available models by running:

   .. code-block:: bash

      ollama list

   A list of supported models will be displayed.

2. **Install a Model**

   Install a desired model using the following command:

   .. code-block:: bash

      ollama install <model-name>

   Replace `<model-name>` with the name of the model you wish to install.

   **Example:**

   .. code-block:: bash

      ollama install llama2

3. **Verify Installed Models**

   Confirm that the model has been installed successfully by re-running the `ollama list` command. The installed model should now appear in the list.

Using Ollama AI Models in FARM-VSS
----------------------------------

Once Ollama is installed and models are configured, they can be integrated into FARM-VSS for rule summarization.

Selecting an AI Model
~~~~~~~~~~~~~~~~~~~~~

Accessing the AI Model Section
+++++++++++++++++++++++++++++++

In the FARM-VSS web portal, navigate to the **AI Model Management** section located in the header menu.

Viewing Available Models
+++++++++++++++++++++++++

Click the “Check AI Dependency” button. FARM-VSS will query Ollama to fetch the list of installed models.

- **Success:** The dropdown menu will display the available models.
- **Failure:** An error message will indicate if Ollama is not running or no models are installed.

Selecting and Setting a Model
+++++++++++++++++++++++++++++

1. Choose a model from the dropdown menu.
2. Click the “Set Model” button to use the selected model for summarization.

   - If successful, a confirmation message will appear.
   - If no model is selected, an error message will prompt you to make a selection.

Generating Summaries
~~~~~~~~~~~~~~~~~~~~

Generate FARM Rules
+++++++++++++++++++

Ensure that FARM rules have been generated by uploading a dataset, configuring partitions, and applying thresholds.

Initiating Summary Generation
++++++++++++++++++++++++++++++

Click the “Generate Summary” button. FARM-VSS will use the selected AI model to summarize the rules.

Viewing the Summary
+++++++++++++++++++

The summary will be displayed in the **FARM Rules Summary** overlay. This concise summary highlights the key patterns and relationships within the association rules.

Customizing the AI Prompt
~~~~~~~~~~~~~~~~~~~~~~~~~

Accessing the Modify Prompt Modal
+++++++++++++++++++++++++++++++++

Click the “Modify Prompt” button in the header menu to open the **Modify Prompt** modal.

Editing the Prompt
++++++++++++++++++

- **Default Prompt:**

  .. code-block:: text

     Analyze the following Fuzzy Association Rules. Highlight significant patterns, trends, and relationships. Ensure a clear, structured summary with insights into notable rules. Focus on significant partitions (_P1, _P2, etc.) and their implications.

     {rules}

- **Customizing the Prompt:**

  Modify the text as necessary to suit your analytical goals, ensuring the `{rules}` placeholder is preserved.

Saving or Resetting the Prompt
++++++++++++++++++++++++++++++

- Click **Save** to apply the changes.
- Use **Reset to Default** to restore the original prompt.

Troubleshooting Prompt Issues
++++++++++++++++++++++++++++++

- **Empty Summary:**
  - Ensure FARM rules are generated before attempting summarization.
  - Verify that an AI model is selected and Ollama is running.

- **Irrelevant Summaries:**
  - Refine the prompt to provide more detailed instructions.
  - Ensure the `{rules}` placeholder is included and correctly positioned.

Best Practices for AI Integration
----------------------------------

1. **Ensure System Readiness:**
   - Install and configure Ollama before using FARM-VSS.
   - Verify that required models are installed and operational.

2. **Clear and Specific Prompts:**
   - Use concise and precise language in prompts to guide the AI model effectively.
   - Include domain-specific context if applicable.

3. **Experiment with Customization:**
   - Test different prompt structures to optimize summarization outputs.
   - Use iterative refinements to achieve the desired level of detail.

4. **Monitor System Performance:**
   - Running multiple models may affect system resources. Limit concurrent tasks for smoother operations.

Conclusion
----------

Integrating Ollama AI models with FARM-VSS enables advanced, customizable summarization capabilities. By properly installing Ollama, managing AI models, and tailoring prompts, users can maximize the effectiveness of their association rule mining efforts.
